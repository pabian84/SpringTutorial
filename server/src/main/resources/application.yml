server:
  port: 8080

spring:
  application:
    name: demo
  datasource:
    #url: jdbc:h2:mem:testdb;MODE=MySQL
    # 파일 기반 MySQL DB, 자동 서버, 파일 잠금 방지 (데이터 유지용)
    url: jdbc:h2:file:./data/demo;MODE=MySQL;AUTO_SERVER=TRUE
    driverClassName: org.h2.Driver
    username: sa
    password:
  h2:
    console:
      enabled: true
      path: /h2-console
  sql:
    init:
      mode: always
      continue-on-error: true  # 에러가 나도 무시하고 진행 (기존 테이블 삭제용)

# Swagger 설정 (문서 접속 주소: /swagger-ui/index.html)
springdoc:
  swagger-ui:
    path: /swagger-ui.html
    groups-order: DESC
    operations-sorter: method
    disable-swagger-default-url: true
    display-request-duration: true
  api-docs:
    path: /api-docs
  show-actuator: true
  default-consumes-media-type: application/json
  default-produces-media-type: application/json

mybatis:
  configuration:
    map-underscore-to-camel-case: true  # 이 줄이 있어야 날짜가 제대로 나옵니다.

# JWT 설정
jwt:
  # HS256 알고리즘을 위해선 32byte(영문 32자) 이상의 긴 비밀키가 필요합니다.
  # 환경 변수: JWT_SECRET
  secret: "${JWT_SECRET:MySuperSecretKeyForSpringTutorialProject2026!!KeepItSafe}"
  
  # 액세스 토큰 만료 시간 (초)
  # 환경 변수: JWT_ACCESS_TOKEN_EXPIRY
  # 개발: 15 (15초 - 빠른 테스트)
  # 운영: 1800 (30분)
  access-token-validity-in-seconds: "${JWT_ACCESS_TOKEN_EXPIRY:15}"
  
  # 리프레시 토큰 만료 (7일 = 604800초)
  # 환경 변수: JWT_REFRESH_TOKEN_EXPIRY
  refresh-token-validity-in-seconds: "${JWT_REFRESH_TOKEN_EXPIRY:604800}"

# CORS 설정 (프론트엔드 주소 관리)
app:
  cors:
    hosts: localhost, 10.10.10.183
    ports: 5173, 5174


# 로그 설정
# logging:
#   level:
#     root: INFO
#     # com.example.demo: DEBUG  # 우리 프로젝트 로그 자세히 보기
#     "[org.springframework.cache]": TRACE # 캐시 동작 과정 자세히 보기 (필수)
